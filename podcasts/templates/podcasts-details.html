{% extends "base.html" %}{% load i18n %}

{% block content %}

<div class="row mb-3">
  <div class="col-md-8 order-12 order-md-1">
    <h1 class="mb-1">{{item.title}}</h1>
    {% if item.subtitle %}
      <h5 class="text-muted mb-3">{{item.subtitle}}</h5>
    {% endif %}
    <div id="summary" class="mb-5">
      <p class="collapse" id="podcast-summary-collapse" aria-expanded="false">
        {{item.summary|default_if_none:""}}
      </p>
      <div class="text-center">
        <a class="btn btn-outline-secondary btn-sm px-3 collapsed" data-toggle="collapse" href="#podcast-summary-collapse" role="button" aria-expanded="false" aria-controls="podcast-summary-collapse"></a>
      </div>

      <style type="text/css">
          #summary a.collapsed:after  {
              content: '{% trans "Show Summary" %}';
          }

          #summary a:not(.collapsed):after {
              content: '{% trans "Hide Summary" %}';
          }
      </style>
    </div>

    {% if item.updated %}
      <div class="text-center text-muted">
          <ul class="list-inline">
            <li class="list-inline-item">{% trans "Last fetched:" %} {{item.updated|date:"DATETIME_FORMAT"}}</li>
            <li class="list-inline-item">{% trans "Last updated:" %} {{item.updated|date:"DATETIME_FORMAT"}}</li>
          </ul>
      </div>
    {% endif %}

  </div>

  <div class="mb-3 offset-2 col-8 offset-md-0 col-md-4 order-1 order-md-12">
    {% if item.image %}
      <img class=" img-fluid rounded" src="{{ item.image.url }}">
    {% else %}
      <img class="img-fluid rounded" data-src="holder.js/200x200?auto=yes&text={{item.title}}">
    {% endif %}
  </div>
</div>
<div class="row">

  <div class="col-12">
    <div class="list-group">
    {% for episode in item.episodes.all %}
      {% include "_episode_listgroupitem.html" %}
    {% endfor %}
    </div>
  </div>
</div>


{% endblock content %}
