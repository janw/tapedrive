{% extends "base.html" %}{% load i18n bootstrap4 %}

{% block content %}
<h1>{% trans "Add New Podcasts" %}</h1>
<div class="row">
  <div class="col mb-4 text-center text-md-left">
    <form enctype="multipart/form-data" action="{% url 'podcasts:podcasts-new' %}" method="post" class="form">
      {% csrf_token %}

      {% for field in form %}

        {% if field.name == 'opml_file' %}
          <div class="form-group">
            {% bootstrap_label field.label label_for=field.id_for_label %}
            <div class="custom-file">
              <label id="{{field.id_for_label}}_inner" class="custom-file-label" for="{{field.id_for_label}}">{% trans "Choose file" %}</label>
              <input name="{{field.html_name}}" id="{{field.id_for_label}}" type="file" class="custom-file-input">
            </div>
            <small class="form-text text-muted">{{field.help_text}}</small>
          </div>
        {% else %}
          {% bootstrap_field field %}
        {% endif %}
      {% endfor %}

      {% buttons %}
          <button type="submit" class="btn btn-secondary btn-lg mt-3">{% trans "Add New Podcasts" %}</button>
      {% endbuttons %}
    </form>
  </div>
</div>
{% if discovery %}
  <div class="row">
    <div class="col">
      <h3 class="mb-0 text-muted ">{% trans "Don't know what to add?" %}</h3>
      <h1>{% trans "Discover Something New" %}</h1>
    </div>
  </div>
  <div class="row">
    {% for row in discovery.feeds %}
      {% for item in row %}
        {% include "_podcast_card_discovery.html" %}
      {% endfor %}
    {% endfor %}
  </div>

  <div class="text-center my-3">
    <p class="text-muted">{% blocktrans with aggregator=discovery.aggregator copyright=discovery.copyright trimmed %}
        Aggregation and Content from {{aggregator}}, {{copyright}}
    {% endblocktrans %}</p>
  </div>
{% endif %}
{% endblock content %}
